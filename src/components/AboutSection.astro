---
// About section with bio and expertise
import type { PersonalInfo, Education, Experience } from '../types';
import about_set_up from '../assets/about-set-up.png';
import { useTranslations } from '../i18n/ui';

interface Props {
  lang?: string;
}

const { lang = 'es' } = Astro.props;
const t = useTranslations(lang as 'en' | 'es');

const aboutData = {
  personal: {
    name: 'Max Santana',
    title: 'Full Stack Developer',
    description: lang === 'en' 
      ? `With over 4 years of solid experience in front-end development, I specialize in ecosystem technologies such as Angular, React.js, Next.js, Astro, React Native, and TypeScript. I also have knowledge of back-end languages, OOP, C#, .NET, and database management (SQL and NoSQL).

I excel at analyzing new functionalities (both front-end and back-end) and proactively managing incident resolution. I have significant experience collaborating in an AMS (Application Management Services - L2 - L3) team.

I offer a robust, proactive, and resilient technical profile with a comprehensive understanding of the software development lifecycle and customer/user management. I also use AI IDEs like Cursor and AI agents like Gemini, ChatGPT, and Claude, which further enhances my profile.`
      : `Con 4+ años de experiencia consolidada en el desarrollo Front-End, especialista en tecnologías del ecosistema como Angular, React.js, Next.js, Astro, React Native y TypeScript.  Poseo conocimientos en lenguajes Back-End, POO, C#, .NET y gestión de bases de datos (SQL y NoSQL). Puedo destacar mi capacidad de realizar análisis de nuevas funcionalidades (tanto front como back) y en la gestión proactiva de resolución de incidentes al colaborar en un equipo AMS (Application Management Services - L2 - L3) . Aporto un perfil técnico robusto, proactivo y resiliente, incluyendo la comprensión integral del ciclo de vida del desarrollo de software y la gestión de clientes/usuarios. Implemento IDE’s de IA como Cursor y Agentes (Gemini, ChatGPT, Claude, o3). lo que potencia mi perfil.`,
    avatar: 'https://images.pexels.com/photos/4049992/pexels-photo-4049992.jpeg?auto=compress&cs=tinysrgb&w=800'
  },
  education: {
    id: '1',
    institution: 'Universidad Nacional de San Juan',
    degree: lang === 'en' ? 'B.S. Computer Science' : 'Lic. en Ciencias de la Computación',
    period: '2018-2022'
  },
  experience: {
    id: '1',
    company: lang === 'en' ? 'Various Companies' : 'Varias Empresas',
    position: lang === 'en' ? 'Front-End Developer' : 'Desarrollador Front-End',
    period: lang === 'en' ? '4+ Years' : '4+ Años',
    description: lang === 'en' ? 'Building web and mobile applications' : 'Construyendo aplicaciones web y móviles',
    technologies: ['React', 'Node.js', 'Python', 'AWS']
  },
  location: lang === 'en' ? 'San Juan, Argentina\nAvailable for Remote' : 'San Juan, Argentina\nDisponible para Remoto',
  languages: lang === 'en' ? ['Spanish (Conversational)', 'English (Proficient)'] : ['Español (Conversacional)', 'Inglés (Competente)'],
  image: about_set_up
};
---

<section id="about" class="py-20 bg-gray-50 dark:bg-gray-800">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16 animate-on-scroll">
      <h2 class="text-3xl md:text-4xl font-bold text-primary-900 dark:text-white">{t('about.title')}</h2>
      <div class="mt-2 w-24 h-1 bg-accent-500 mx-auto rounded-full"></div>
    </div>
    
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
      <div class="animate-on-scroll order-2 lg:order-1">
        <div class="relative">
          <div class="aspect-square max-w-md mx-auto overflow-hidden rounded-2xl shadow-xl">
            <img 
              src={aboutData.image.src} 
              alt="Developer profile" 
              class="w-full h-full object-cover"
            />
          </div>
          <div class="absolute -bottom-6 -right-6 w-24 h-24 bg-accent-500 rounded-xl hidden sm:block"></div>
          <div class="absolute -top-6 -left-6 w-24 h-24 border-2 border-primary-900 dark:border-white rounded-xl hidden sm:block"></div>
        </div>
      </div>
      
      <div class="space-y-6 animate-on-scroll order-1 lg:order-2">
        <h3 class="text-2xl font-semibold text-primary-900 dark:text-white text-center lg:text-left">
          {t('about.whoIAm')}
        </h3>
        <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
          {aboutData.personal.description}
        </p>
        <!-- <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
          {lang === 'en' 
            ? 'I specialize in creating elegant solutions to complex problems with a focus on performance, accessibility, and user experience. My expertise spans across modern front-end frameworks, back-end technologies, and cloud infrastructure.'
            : 'Me especializo en crear soluciones elegantes para problemas complejos con un enfoque en rendimiento, accesibilidad y experiencia de usuario. Mi experiencia abarca frameworks front-end modernos, tecnologías back-end e infraestructura en la nube.'
          }
        </p> -->
        
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4">
          <div class="bg-white dark:bg-gray-700 p-4 rounded-lg shadow-md">
            <h4 class="font-medium text-primary-900 dark:text-white">{t('about.education')}</h4>
            <p class="text-gray-600 dark:text-gray-400 text-sm">{aboutData.education.degree}<br />{aboutData.education.institution}</p>
          </div>
          <div class="bg-white dark:bg-gray-700 p-4 rounded-lg shadow-md">
            <h4 class="font-medium text-primary-900 dark:text-white">{t('about.experience')}</h4>
            <p class="text-gray-600 dark:text-gray-400 text-sm">{aboutData.experience.period}<br />{aboutData.experience.position}</p>
          </div>
          <div class="bg-white dark:bg-gray-700 p-4 rounded-lg shadow-md">
            <h4 class="font-medium text-primary-900 dark:text-white">{t('about.location')}</h4>
            <p class="text-gray-600 dark:text-gray-400 text-sm">{aboutData.location.split('\n')[0]}<br />{aboutData.location.split('\n')[1]}</p>
          </div>
          <div class="bg-white dark:bg-gray-700 p-4 rounded-lg shadow-md">
            <h4 class="font-medium text-primary-900 dark:text-white">{t('about.languages')}</h4>
            <p class="text-gray-600 dark:text-gray-400 text-sm">{aboutData.languages[0]}<br />{aboutData.languages[1]}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Animation on scroll
  const animatedElements = document.querySelectorAll('.animate-on-scroll');
  
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('active');
      }
    });
  }, {
    threshold: 0.1
  });
  
  animatedElements.forEach(el => {
    observer.observe(el);
  });
</script>